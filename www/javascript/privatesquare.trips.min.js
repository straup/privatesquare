function privatesquare_trips_datepicker_init(){$("#arrival").datepicker({language:"en"});$("#departure").datepicker({language:"en"})}function privatesquare_trips_select2_init(){$("#where").select2({minimumInputLength:3,ajax:{url:"http://privatesquare/user_trips_add_geocode.php",dataType:"json",data:function(a){return{q:a}},results:function(a){return{results:a.results}}}})}
function privatesquare_trips_gather_trip_info(){var a=$("#where").val(),b=$("#arrival").val(),c=$("#departure").val(),d=$("#arrive_by").val(),e=$("#depart_by").val(),f=$("#status_id").val(),g=$("#note").val();return{woeid:a,arrival:b,departure:c,arrive_by:d,depart_by:e,status_id:f,note:g}}
function privatesquare_trips_add_init(){privatesquare_trips_datepicker_init();privatesquare_trips_select2_init();$("#add-trip").submit(function(){var a=$("#add-trip").attr("data-add-trip-crumb"),b=privatesquare_trips_gather_trip_info();b.crumb=a;console.log(b);try{privatesquare_api_call("privatesquare.trips.addTrip",b,_privatesquare_trips_add_trip_onsuccess);privatesquare_set_status("Adding trip to [FIX ME]")}catch(c){console.log(c)}return false})}
function _privatesquare_trips_add_trip_onsuccess(a){console.log(a)}
function privatesquare_trips_edit_init(){privatesquare_trips_datepicker_init();$("#trip-locality small").click(function(){privatesquare_trips_select2_init()});$("#edit-trip").submit(function(){var a=$("#edit-trip").attr("data-edit-trip-crumb"),b=privatesquare_trips_gather_trip_info();b.crumb=a;console.log(b);try{privatesquare_api_call("privatesquare.trips.editTrip",b,_privatesquare_trips_edit_trip_onsuccess);privatesquare_set_status("Adding trip to [FIX ME]")}catch(c){console.log(c)}return false})}
function _privatesquare_trips_edit_trip_onsuccess(a){console.log(a)};
